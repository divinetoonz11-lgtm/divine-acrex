(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9389],{2333:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dealer/mobile-dashboard",function(){return i(8962)}])},597:function(e,t,i){var s=i(3454);i(1479);var n=i(7294),r=n&&"object"==typeof n&&"default"in n?n:{default:n};function _defineProperties(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}var o=void 0!==s&&s.env&&!0,isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},a=function(){function StyleSheet(e){var t=void 0===e?{}:e,i=t.name,s=void 0===i?"stylesheet":i,n=t.optimizeForSpeed,r=void 0===n?o:n;invariant$1(isString(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",invariant$1("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var a=document.querySelector('meta[property="csp-nonce"]');this._nonce=a?a.getAttribute("content"):null}var e,t=StyleSheet.prototype;return t.setOptimizeForSpeed=function(e){invariant$1("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),invariant$1(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(invariant$1(!this._injected,"sheet already injected"),this._injected=!0,this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,i){return"number"==typeof i?e._serverSheet.cssRules[i]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),i},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(invariant$1(isString(e),"`insertRule` accepts only strings"),this._optimizeForSpeed){var i=this.getSheet();"number"!=typeof t&&(t=i.cssRules.length);try{i.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed){var i=this.getSheet();if(t.trim()||(t=this._deletedRulePlaceholder),!i.cssRules[e])return e;i.deleteRule(e);try{i.insertRule(t,e)}catch(s){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),i.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];invariant$1(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},t.deleteRule=function(e){if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];invariant$1(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]},t.cssRules=function(){var e=this;return this._tags.reduce(function(t,i){return i?t=t.concat(Array.prototype.map.call(e.getSheetForTag(i).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,i){t&&invariant$1(isString(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return i?n.insertBefore(s,i):n.appendChild(s),s},_defineProperties(StyleSheet.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e&&_defineProperties(StyleSheet,e),StyleSheet}();function invariant$1(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var stringHash=function(e){for(var t=5381,i=e.length;i;)t=33*t^e.charCodeAt(--i);return t>>>0},l={};function computeId(e,t){if(!t)return"jsx-"+e;var i=String(t),s=e+i;return l[s]||(l[s]="jsx-"+stringHash(e+"-"+i)),l[s]}function computeSelector(e,t){var i=e+t;return l[i]||(l[i]=t.replace(/__jsx-style-dynamic-selector/g,e)),l[i]}var d=function(){function StyleSheetRegistry(e){var t=void 0===e?{}:e,i=t.styleSheet,s=void 0===i?null:i,n=t.optimizeForSpeed,r=void 0!==n&&n;this._sheet=s||new a({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),s&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var e=StyleSheetRegistry.prototype;return e.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var i=this.getIdAndRules(e),s=i.styleId,n=i.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var r=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=r,this._instancesCounts[s]=1},e.remove=function(e){var t=this,i=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(i in this._instancesCounts,"styleId: `"+i+"` not found"),this._instancesCounts[i]-=1,this._instancesCounts[i]<1){var s=this._fromServer&&this._fromServer[i];s?(s.parentNode.removeChild(s),delete this._fromServer[i]):(this._indices[i].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[i]),delete this._instancesCounts[i]}},e.update=function(e,t){this.add(t),this.remove(e)},e.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},e.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],i=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return i[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},e.styles=function(e){var t,i;return t=this.cssRules(),void 0===(i=e)&&(i={}),t.map(function(e){var t=e[0],s=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:i.nonce?i.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},e.getIdAndRules=function(e){var t=e.children,i=e.dynamic,s=e.id;if(i){var n=computeId(s,i);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return computeSelector(n,e)}):[computeSelector(n,t)]}}return{styleId:computeId(s),rules:Array.isArray(t)?t:[t]}},e.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},StyleSheetRegistry}(),c=n.createContext(null);c.displayName="StyleSheetContext";var f=r.default.useInsertionEffect||r.default.useLayoutEffect,u=new d;function JSXStyle(e){var t=u||n.useContext(c);return t&&f(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)]),null}JSXStyle.dynamic=function(e){return e.map(function(e){return computeId(e[0],e[1])}).join(" ")},t.style=JSXStyle},5379:function(e,t,i){"use strict";e.exports=i(597).style},8962:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return MobileDealerDashboard}});var s=i(5893),n=i(5379),r=i.n(n),o=i(7294);function MobileDealerDashboard(){let[e,t]=(0,o.useState)("overview"),[i,n]=(0,o.useState)([]),[f,u]=(0,o.useState)(!1);async function fetchListings(){u(!0);try{let e=await fetch("/api/properties"),t=await e.json();t&&t.ok&&n(t.data||[])}catch(e){console.error("fetchListings:",e)}finally{u(!1)}}return(0,o.useEffect)(()=>{fetchListings()},[]),(0,s.jsxs)("div",{style:{minHeight:"100vh",background:"#f6f8fb",fontFamily:"Inter, sans-serif"},className:"jsx-c090f413615ad40f",children:[(0,s.jsxs)("header",{style:{background:"#fff",padding:"12px 14px",display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid #eee",position:"sticky",top:0,zIndex:40},className:"jsx-c090f413615ad40f",children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:10},className:"jsx-c090f413615ad40f",children:[(0,s.jsx)("img",{src:"/images/logo.png",alt:"logo",style:{width:36,height:36},className:"jsx-c090f413615ad40f"}),(0,s.jsx)("div",{style:{fontWeight:800,fontSize:18},className:"jsx-c090f413615ad40f",children:"Dealer Dashboard"})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},className:"jsx-c090f413615ad40f",children:[(0,s.jsx)("button",{onClick:()=>window.open("/user/dashboard","_self"),style:{padding:"8px 10px",background:"#fff",borderRadius:8,border:"1px solid #e6eefb",fontWeight:700},className:"jsx-c090f413615ad40f",children:"Switch"}),(0,s.jsx)("button",{onClick:()=>{try{window.openDivineLoginLocal?window.openDivineLoginLocal():alert("Open login (fallback)")}catch(e){console.error("open login:",e),alert("Open login (error)")}},style:{width:36,height:36,borderRadius:"50%",background:"#0a66c2",border:"none",color:"#fff",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":"profile",className:"jsx-c090f413615ad40f",children:"\uD83D\uDC64"})]})]}),(0,s.jsxs)("div",{style:{background:"#07102a",padding:"10px 8px",overflowX:"auto",whiteSpace:"nowrap"},className:"jsx-c090f413615ad40f",children:[[{key:"overview",label:"Overview"},{key:"post",label:"Post Property"},{key:"leads",label:"Leads"},{key:"plans",label:"Plans"},{key:"profile",label:"Profile"},{key:"support",label:"Support"}].map(i=>(0,s.jsx)("button",{onClick:()=>t(i.key),style:{display:"inline-block",marginRight:8,padding:"8px 14px",borderRadius:999,border:"none",background:e===i.key?"#315DFF":"transparent",color:e===i.key?"#fff":"#cbd6ee",fontWeight:800,cursor:"pointer"},"aria-pressed":e===i.key,className:"jsx-c090f413615ad40f",children:i.label},i.key)),(0,s.jsx)("button",{onClick:function(){try{window.open("/post-property","_blank","noopener,noreferrer")}catch(e){window.location.href="/post-property"}},style:{display:"inline-block",marginLeft:6,padding:"8px 12px",borderRadius:12,background:"#10b981",color:"#fff",fontWeight:800,border:"none",cursor:"pointer"},className:"jsx-c090f413615ad40f",children:"+ FREE"})]}),(0,s.jsxs)("main",{style:{padding:14},className:"jsx-c090f413615ad40f",children:[(0,s.jsx)("h2",{style:{margin:"4px 0 8px",fontWeight:800},className:"jsx-c090f413615ad40f",children:"overview"===e?"Overview":"post"===e?"My Properties":"leads"===e?"Leads":"plans"===e?"Plans":"profile"===e?"Profile":"Support"}),(0,s.jsx)("div",{style:{color:"#6b7280",marginBottom:12},className:"jsx-c090f413615ad40f",children:"overview"===e?"Your dealer summary":"post"===e?"Manage posted properties":""}),"overview"===e&&(0,s.jsxs)("div",{style:{display:"flex",gap:10,overflowX:"auto",paddingBottom:8},className:"jsx-c090f413615ad40f",children:[(0,s.jsx)(StatCard,{title:"Total",value:i.length}),(0,s.jsx)(StatCard,{title:"Active",value:i.filter(e=>"active"===e.status).length}),(0,s.jsx)(StatCard,{title:"Featured",value:i.filter(e=>e.featured).length}),(0,s.jsx)(StatCard,{title:"Leads",value:8})]}),"post"===e&&(0,s.jsx)("section",{style:{marginTop:12},className:"jsx-c090f413615ad40f",children:f?(0,s.jsx)("div",{style:a,className:"jsx-c090f413615ad40f",children:"Loading…"}):0===i.length?(0,s.jsxs)("div",{style:a,className:"jsx-c090f413615ad40f",children:["No listings yet — tap ",(0,s.jsx)("strong",{className:"jsx-c090f413615ad40f",children:"+ FREE"})," to add."]}):(0,s.jsx)("div",{style:{display:"grid",gap:12},className:"jsx-c090f413615ad40f",children:i.map(e=>(0,s.jsx)(MobileListing,{p:e,onRefresh:fetchListings},e.id))})}),"leads"===e&&(0,s.jsx)("div",{style:a,className:"jsx-c090f413615ad40f",children:(0,s.jsx)("h3",{className:"jsx-c090f413615ad40f",children:"No leads yet (demo)"})}),"plans"===e&&(0,s.jsxs)("div",{style:a,className:"jsx-c090f413615ad40f",children:[(0,s.jsx)("h3",{className:"jsx-c090f413615ad40f",children:"Plans"}),(0,s.jsx)("p",{className:"jsx-c090f413615ad40f",children:"Dealer plans coming soon."})]}),"profile"===e&&(0,s.jsxs)("div",{style:a,className:"jsx-c090f413615ad40f",children:[(0,s.jsx)("h3",{className:"jsx-c090f413615ad40f",children:"Profile"}),(0,s.jsx)("label",{style:{fontWeight:700},className:"jsx-c090f413615ad40f",children:"Name"}),(0,s.jsx)("input",{style:l,defaultValue:"",className:"jsx-c090f413615ad40f"}),(0,s.jsx)("label",{style:{fontWeight:700},className:"jsx-c090f413615ad40f",children:"Phone"}),(0,s.jsx)("input",{style:l,defaultValue:"",className:"jsx-c090f413615ad40f"}),(0,s.jsx)("button",{style:d,onClick:()=>alert("Saved (demo)"),className:"jsx-c090f413615ad40f",children:"Save"})]}),"support"===e&&(0,s.jsxs)("div",{style:a,className:"jsx-c090f413615ad40f",children:[(0,s.jsx)("h3",{className:"jsx-c090f413615ad40f",children:"Support"}),(0,s.jsx)("a",{href:"mailto:divineacreshelp@gmail.com",style:c,className:"jsx-c090f413615ad40f",children:"Email Support"})]})]}),(0,s.jsx)(r(),{id:"c090f413615ad40f",children:"@media(min-width:769px){.mobile-only-warning.jsx-c090f413615ad40f{display:none}}"})]})}function StatCard(e){let{title:t,value:i}=e;return(0,s.jsxs)("div",{style:{minWidth:120,background:"#fff",padding:12,borderRadius:10,boxShadow:"0 6px 18px rgba(0,0,0,0.04)"},children:[(0,s.jsx)("div",{style:{fontSize:13,color:"#6b7280",fontWeight:700},children:t}),(0,s.jsx)("div",{style:{fontSize:20,fontWeight:900},children:i})]})}function MobileListing(e){let{p:t,onRefresh:i}=e;async function onDelete(){if(confirm("Delete listing?"))try{await fetch("/api/properties/"+t.id,{method:"DELETE"}),i()}catch(e){console.error(e),alert("Delete failed")}}async function onToggleFeatured(){try{await fetch("/api/properties/"+t.id,{method:"PUT",headers:{"content-type":"application/json"},body:JSON.stringify({featured:!t.featured})}),i()}catch(e){console.error(e),alert("Update failed")}}return(0,s.jsxs)("div",{style:{background:"#fff",borderRadius:10,overflow:"hidden",boxShadow:"0 6px 18px rgba(0,0,0,0.04)"},children:[(0,s.jsx)("img",{src:t.image,alt:t.title,style:{width:"100%",height:160,objectFit:"cover"}}),(0,s.jsxs)("div",{style:{padding:12},children:[(0,s.jsx)("div",{style:{fontWeight:900},children:t.title}),(0,s.jsxs)("div",{style:{color:"#6b7280",marginTop:4},children:[t.bhk," BHK • ",t.area," sqft"]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginTop:10},children:[(0,s.jsx)("button",{onClick:onToggleFeatured,style:f,children:t.featured?"Unfeature":"Feature"}),(0,s.jsx)("button",{onClick:()=>alert("Promote (demo)"),style:{...f,background:"#315DFF",color:"#fff"},children:"Promote"}),(0,s.jsx)("button",{onClick:onDelete,style:{...f,background:"#ef4444",color:"#fff"},children:"Delete"})]})]})]})}i(1664);let a={padding:14,background:"#fff",borderRadius:10,marginBottom:12},l={width:"100%",padding:10,borderRadius:8,border:"1px solid #e6eefb",marginTop:6,marginBottom:8},d={marginTop:8,padding:"10px 14px",background:"#315DFF",color:"#fff",border:"none",borderRadius:8,fontWeight:800},c={display:"inline-block",marginTop:8,padding:"8px 12px",background:"#315DFF",color:"#fff",borderRadius:8,textDecoration:"none",fontWeight:800},f={padding:"8px 10px",borderRadius:8,background:"#fff",border:"1px solid #e5e7eb",cursor:"pointer",fontWeight:800}},1479:function(){}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=2333)}),_N_E=e.O()}]);