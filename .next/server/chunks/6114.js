exports.id=6114,exports.ids=[6114],exports.modules={9376:e=>{e.exports={root:"Footer_root__67FAy",bar:"Footer_bar__4bhoQ",container:"Footer_container__KpDnW",col:"Footer_col__WMzcr",brandWrap:"Footer_brandWrap__Ul5w7",dah:"Footer_dah__f5vhf",company:"Footer_company__MYzMa",contactLine:"Footer_contactLine___OBzj",sectionTitle:"Footer_sectionTitle__ZVW8h",linksGrid:"Footer_linksGrid__955Oj",linkCol:"Footer_linkCol__jxnua",subText:"Footer_subText__zHD0M",subscribeBox:"Footer_subscribeBox__tmqOe",emailInput:"Footer_emailInput__Wydx3",subBtn:"Footer_subBtn__D4_GO",socialRow:"Footer_socialRow__o2WwH",social:"Footer_social__cGivK",footRow:"Footer_footRow__jpr0k",copy:"Footer_copy__KUC9W",footLinks:"Footer_footLinks__bq3yE"}},28:e=>{e.exports={headerWrap:"Header_headerWrap__Lw_HQ",headerInner:"Header_headerInner__6Ae68",left:"Header_left__0UpYn",logoLink:"Header_logoLink__8hJcT",logoBox:"Header_logoBox__SMILi",logoImg:"Header_logoImg__uFRC_",title:"Header_title__QYI_x",center:"Header_center__tJZC_",navBox:"Header_navBox__Wohrn",navList:"Header_navList__0gQJv",navLink:"Header_navLink__Rvw2c",postPill:"Header_postPill__9C5Ll",freeChip:"Header_freeChip__5f2q8",right:"Header_right__ya__V",iconBtnWhite:"Header_iconBtnWhite__JiZJn",iconImg:"Header_iconImg__wcL9t",iconAvatar:"Header_iconAvatar__YSDvR",avatarSvg:"Header_avatarSvg__IqGVK"}},9271:(e,t,i)=>{"use strict";i.d(t,{Z:()=>LoginModal});var r=i(997),n=i(6689);function LoginModal({open:e=!1,onClose:t=()=>{}}){let[i,a]=(0,n.useState)("user"),[s,l]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,f]=(0,n.useState)(""),[p,u]=(0,n.useState)(""),[g,x]=(0,n.useState)(!1),[m,j]=(0,n.useState)(!1),[_,b]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null);if((0,n.useEffect)(()=>{e||(l(""),d(""),f(""),u(""),x(!1),j(!1),b(!1),y(null))},[e]),!e)return null;function getCallbackUrl(){let e=window?.location?.origin||"";return e+("dealer"===i?"/dealer/dashboard":"/user/dashboard")}async function getCaptchaToken(e="login"){try{return process.env.NEXT_PUBLIC_RECAPTCHA_SITE_KEY,null}catch(e){return console.warn("reCAPTCHA not available:",e),null}}async function providerGoogle(){if(!g)return alert("Please agree to Terms & Conditions");j(!0);let e=getCallbackUrl();try{let t=`/api/auth/signin/google?callbackUrl=${encodeURIComponent(e+(e.includes("?")?"&":"?")+"role="+i)}`;window.location.href=t}catch(e){console.error("Google login error:",e),alert("Google login failed"),j(!1)}}async function submitEmailMagic(e){if(e?.preventDefault(),!g)return alert("Please agree to Terms.");if(!c)return alert("Enter email");j(!0);let i=getCallbackUrl();localStorage.setItem("da_login_name",s||""),localStorage.setItem("da_login_email",c||"");try{await fetch("/api/auth/signin/email",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({email:c,callbackUrl:i})}),alert("Check your email for login link."),t()}catch(e){console.error(e),alert("Email login failed")}j(!1)}async function sendEmailOtp(e){if(e?.preventDefault(),!g)return alert("Please agree to Terms.");if(!c)return alert("Enter email");j(!0);let t=getCallbackUrl(),r=await getCaptchaToken("send_email_otp");try{let e=await fetch("/api/auth/send-otp",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({identifier:c,type:"email",role:i,callbackUrl:t,captcha:r})}),n=await e.json();e.ok&&n.success?(b(!0),y("email"),localStorage.setItem("da_login_name",s||""),localStorage.setItem("da_login_email",c||""),alert("OTP sent to email. Check your inbox (spam if not visible).")):alert(n?.message||"Failed to send OTP")}catch(e){console.error(e),alert("Failed to send OTP")}j(!1)}async function sendPhoneOtp(e){if(e?.preventDefault(),!g)return alert("Please agree to Terms.");if(!h)return alert("Enter mobile number");j(!0);let t=getCallbackUrl(),r=await getCaptchaToken("send_phone_otp");try{let e=await fetch("/api/auth/send-otp",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({identifier:h,type:"phone",role:i,callbackUrl:t,captcha:r})}),n=await e.json();e.ok&&n.success?(b(!0),y("phone"),localStorage.setItem("da_login_name",s||""),localStorage.setItem("da_login_email",c||""),alert("OTP sent to your phone.")):alert(n?.message||"Failed to send OTP")}catch(e){console.error(e),alert("Failed to send OTP")}j(!1)}async function verifyOtp(e){if(e?.preventDefault(),!g)return alert("Please agree to Terms.");if(!p)return alert("Enter OTP");j(!0);let t=getCallbackUrl(),r="email"===v?c:h,n=await getCaptchaToken("verify_otp");try{let e=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({identifier:r,type:v,otp:p,role:i,callbackUrl:t,captcha:n})}),o=await e.json();if(e.ok&&o.success){let e=o.redirect||t;window.location.href=e}else alert(o?.message||"OTP verification failed")}catch(e){console.error(e),alert("OTP verification failed")}j(!1)}return r.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.45)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:16},onClick:t,children:(0,r.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{width:480,maxWidth:"95%",background:"#fff",borderRadius:10,padding:24,position:"relative",maxHeight:"90vh",overflowY:"auto",fontFamily:"Inter, sans-serif"},children:[r.jsx("button",{onClick:t,style:{position:"absolute",top:12,right:12,fontSize:22,background:"transparent",border:"none",cursor:"pointer"},children:"✕"}),r.jsx("h2",{style:{marginBottom:8},children:"dealer"===i?"Dealer Login / Signup":"User Login / Signup"}),(0,r.jsxs)("button",{onClick:providerGoogle,disabled:m,style:{width:"100%",padding:"12px",borderRadius:8,border:"1px solid #ddd",display:"flex",gap:10,justifyContent:"center",alignItems:"center",background:"#fff",cursor:"pointer"},children:[r.jsx("img",{src:"/images/google-icon.png",style:{width:18}}),"Continue with Google"]}),r.jsx("div",{style:{textAlign:"center",padding:10},children:"or"}),!_&&(0,r.jsxs)("form",{onSubmit:submitEmailMagic,children:[r.jsx("input",{placeholder:"Full Name (optional)",value:s,onChange:e=>l(e.target.value),style:o}),r.jsx("input",{placeholder:"Email address",required:!0,value:c,onChange:e=>d(e.target.value),style:o}),(0,r.jsxs)("label",{style:{display:"flex",gap:10,marginTop:10},children:[r.jsx("input",{type:"checkbox",checked:g,onChange:e=>x(e.target.checked)}),(0,r.jsxs)("span",{style:{fontSize:13},children:["I agree to DivineAcrex"," ",r.jsx("a",{style:{color:"#315DFF"},href:"/terms",target:"_blank",children:"Terms & Conditions"})]})]}),(0,r.jsxs)("div",{style:{display:"flex",gap:8,marginTop:12},children:[r.jsx("button",{type:"button",onClick:sendEmailOtp,disabled:!g||m,style:{flex:1,padding:"12px",background:g?"#315DFF":"#9bb0ff",borderRadius:8,border:"none",color:"#fff",fontWeight:700,cursor:"pointer"},children:"Send OTP to Email"}),r.jsx("button",{type:"submit",disabled:!g||m,title:"Fallback: magic link",style:{padding:"12px",borderRadius:8,border:"1px solid #ddd",background:"#fff",cursor:"pointer"},children:"Magic Link"})]})]}),!_&&(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{style:{marginTop:18},children:"or sign in with phone"}),(0,r.jsxs)("div",{style:{display:"flex",gap:10,marginTop:6},children:[r.jsx("input",{placeholder:"Mobile number",value:h,onChange:e=>f(e.target.value),style:{...o,flex:1}}),r.jsx("button",{onClick:sendPhoneOtp,disabled:!g||m,style:{padding:"10px 12px",borderRadius:8,background:g?"#315DFF":"#9bb0ff",color:"#fff",border:"none",fontWeight:600},children:"Send OTP"})]})]}),_&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{marginTop:16},children:["Enter the 6-digit OTP sent to your"," ","email"===v?"email":"mobile","."]}),(0,r.jsxs)("div",{style:{display:"flex",gap:10,marginTop:8},children:[r.jsx("input",{placeholder:"Enter OTP",value:p,onChange:e=>u(e.target.value),style:{...o,flex:1}}),r.jsx("button",{onClick:verifyOtp,disabled:!g||m,style:{padding:"10px 12px",background:g?"#00A676":"#9bd8c4",borderRadius:8,border:"none",color:"#fff"},children:"Verify"})]}),r.jsx("div",{style:{marginTop:8},children:r.jsx("button",{onClick:()=>{b(!1),u(""),y(null)},style:{marginTop:8,background:"transparent",border:"none",color:"#315DFF",cursor:"pointer"},children:"Resend / Use different method"})})]})]})})}let o={width:"100%",padding:"10px",marginTop:8,borderRadius:8,border:"1px solid #d7dce3"}},6114:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>MyApp});var r=i(997),n=i(6689),o=i(968),a=i.n(o),s=i(1649),l=i(1163);i(6764),i(6971),i(6497),i(3559),i(6792);var c=i(5152),d=i.n(c),h=i(1664),f=i.n(h),p=i(28),u=i.n(p),g=i(9271);let x=d()(()=>i.e(1965).then(i.bind(i,1965)),{loadableGenerated:{modules:["..\\components\\Header.jsx -> ./MobileHeader"]},ssr:!1});function Header(){let[e,t]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[a,s]=(0,n.useState)(!1),[l,c]=(0,n.useState)(!1),d=(0,n.useRef)(null);function openFor(e){try{window.pendingLoginTab=e}catch{}s(!0),c(!1)}return((0,n.useEffect)(()=>{function handleResize(){o(window.innerWidth<768)}return t(!0),handleResize(),window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)},[]),(0,n.useEffect)(()=>()=>{try{delete window.openDivineLoginLocal}catch{}},[]),(0,n.useEffect)(()=>{function handleClick(e){d.current&&!d.current.contains(e.target)&&c(!1)}return l&&document.addEventListener("mousedown",handleClick),()=>document.removeEventListener("mousedown",handleClick)},[l]),e&&i)?r.jsx(x,{}):(0,r.jsxs)(r.Fragment,{children:[r.jsx("header",{className:u().headerWrap,children:(0,r.jsxs)("div",{className:u().headerInner,children:[r.jsx("div",{className:u().left,children:(0,r.jsxs)(f(),{href:"/",className:u().logoLink,children:[r.jsx("span",{className:u().logoBox,children:r.jsx("img",{src:"/images/logo.png",alt:"Divine Acres Logo",className:u().logoImg,style:{width:"54px",height:"54px",objectFit:"contain"}})}),r.jsx("span",{style:{fontSize:"20px",fontWeight:"800",color:"#000",whiteSpace:"nowrap",marginLeft:"6px"},children:"Divine Acres"})]})}),r.jsx("div",{className:u().center,children:r.jsx("nav",{className:u().navBox,children:(0,r.jsxs)("ul",{className:u().navList,children:[r.jsx("li",{children:r.jsx(f(),{href:"/",className:u().navLink,children:"Home"})}),r.jsx("li",{children:r.jsx(f(),{href:"/listings",className:u().navLink,children:"Listings"})}),r.jsx("li",{children:r.jsx(f(),{href:"/contact",className:u().navLink,children:"Contact"})}),r.jsx("li",{children:r.jsx(f(),{href:"/for-buyers",className:u().navLink,children:"For Buyers"})}),r.jsx("li",{children:r.jsx(f(),{href:"/for-tenants",className:u().navLink,children:"For Tenants"})}),r.jsx("li",{children:r.jsx(f(),{href:"/for-owners",className:u().navLink,children:"For Owners"})}),r.jsx("li",{children:r.jsx(f(),{href:"/for-dealers",className:u().navLink,children:"For Dealers/Builders"})}),r.jsx("li",{children:r.jsx(f(),{href:"/insights",className:u().navLink,children:"Insights"})}),r.jsx("li",{children:(0,r.jsxs)("a",{href:"/post-property",className:u().postPill,onClick:function(e){try{e.preventDefault(),window.open("/post-property","_blank","noopener,noreferrer")}catch{window.location.href="/post-property"}},children:["Post Property ",r.jsx("span",{className:u().freeChip,children:"FREE"})]})})]})})}),(0,r.jsxs)("div",{className:u().right,children:[r.jsx("button",{className:u().iconBtnWhite,"aria-label":"Notifications",children:r.jsx("img",{src:"/images/notify-icon.png",className:u().iconImg,alt:"notify"})}),(0,r.jsxs)("div",{ref:d,style:{position:"relative",marginLeft:10},children:[r.jsx("button",{className:`${u().iconBtnWhite} ${u().iconAvatar}`,onClick:()=>c(e=>!e),children:(0,r.jsxs)("svg",{className:u().avatarSvg,viewBox:"0 0 24 24",children:[r.jsx("circle",{cx:"12",cy:"8.2",r:"3.2",fill:"#ffffff"}),r.jsx("path",{d:"M4 20c0-3.3 4-5.5 8-5.5s8 2.2 8 5.5",fill:"#ffffff"})]})}),l&&(0,r.jsxs)("div",{role:"menu",style:{position:"absolute",right:0,top:46,width:220,background:"#fff",borderRadius:10,boxShadow:"0 8px 28px rgba(16,24,40,0.15)"},children:[r.jsx("button",{onClick:()=>openFor("user"),style:{padding:12,fontWeight:"700",width:"100%",textAlign:"left"},children:"User Login"}),r.jsx("button",{onClick:()=>openFor("dealer"),style:{padding:12,fontWeight:"700",width:"100%",textAlign:"left"},children:"Dealer Login"})]})]})]})]})}),r.jsx(g.Z,{open:a,onClose:()=>s(!1)})]})}var m=i(9376),j=i.n(m);function Footer(){let e=new Date().getFullYear(),[t,i]=(0,n.useState)(""),[o,a]=(0,n.useState)(!1);async function subscribe(e){if(e?.preventDefault(),!t||!t.includes("@"))return alert("कृपया सही ईमेल डालें।");try{a(!0);let e=await fetch("/api/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),r=await e.json();alert(r.message||(r.ok?"Subscribed":"Error")),r.ok&&i("")}catch(e){console.error(e),alert("Server error. Try again.")}finally{a(!1)}}return r.jsx("footer",{className:`${j().root} footer-root`,children:(0,r.jsxs)("div",{className:`${j().bar} footer-bar`,children:[(0,r.jsxs)("div",{className:`${j().container} footer-container m-footer`,children:[(0,r.jsxs)("div",{className:`${j().col} footer-col m-col`,children:[r.jsx("div",{className:`${j().brandWrap} footer-brandWrap`,children:r.jsx("div",{className:`${j().company} footer-company`,children:"Divine Acrex Housing"})}),(0,r.jsxs)("div",{className:`${j().contact} footer-contact m-contact`,children:[r.jsx("div",{className:j().contactLine,children:"\uD83D\uDCCD Malad West, Mumbai"}),r.jsx("div",{className:j().contactLine,children:"\uD83D\uDCDE +91 98674 02515"}),r.jsx("div",{className:j().contactLine,children:"✉️ divinetoonz11@gmail.com"})]})]}),(0,r.jsxs)("div",{className:`${j().col} footer-col m-col`,children:[r.jsx("div",{className:`${j().sectionTitle} footer-sectionTitle`,children:"Quick Links"}),(0,r.jsxs)("div",{className:`${j().linksGrid} footer-linksGrid`,children:[(0,r.jsxs)("ul",{className:`${j().linkCol} footer-linkCol`,children:[r.jsx("li",{children:r.jsx("a",{href:"/",children:"Home"})}),r.jsx("li",{children:r.jsx("a",{href:"/listings",children:"Listings"})}),r.jsx("li",{children:r.jsx("a",{href:"/post-property",children:"Free Listing"})}),r.jsx("li",{children:r.jsx("a",{href:"/for-buyers",children:"For Buyers"})})]}),(0,r.jsxs)("ul",{className:`${j().linkCol} footer-linkCol`,children:[r.jsx("li",{children:r.jsx("a",{href:"/for-dealers",children:"For Dealers"})}),r.jsx("li",{children:r.jsx("a",{href:"/contact",children:"Contact"})}),r.jsx("li",{children:r.jsx("a",{href:"/careers",children:"\uD83D\uDCBC Careers"})}),r.jsx("li",{children:r.jsx("a",{href:"/insights",children:"\uD83D\uDCF0 Blog / Insights"})})]})]})]}),(0,r.jsxs)("div",{className:`${j().col} footer-col m-col`,children:[r.jsx("div",{className:`${j().sectionTitle} footer-sectionTitle`,children:"Subscribe"}),r.jsx("div",{className:`${j().subText} footer-subText`,children:"Get market updates & property alerts."}),(0,r.jsxs)("form",{className:`${j().subscribeBox} footer-subscribeBox m-subscribe`,onSubmit:subscribe,children:[r.jsx("input",{"aria-label":"email",type:"email",placeholder:"Your email",value:t,onChange:e=>i(e.target.value),required:!0,className:`${j().emailInput} footer-emailInput`}),r.jsx("button",{type:"submit",className:`${j().subBtn} footer-subBtn`,disabled:o,"aria-disabled":o,children:o?"Subscribing...":"Subscribe"})]}),r.jsx("div",{className:`${j().sectionTitle} footer-sectionTitle`,style:{marginTop:18},children:"Follow"}),(0,r.jsxs)("div",{className:`${j().socialRow} footer-socialRow`,children:[r.jsx("a",{className:`${j().social} footer-social`,href:"#",children:r.jsx("svg",{width:"20",height:"20"})}),r.jsx("a",{className:`${j().social} footer-social`,href:"#",children:r.jsx("svg",{width:"20",height:"20"})}),r.jsx("a",{className:`${j().social} footer-social`,href:"#",children:r.jsx("svg",{width:"20",height:"20"})}),r.jsx("a",{className:`${j().social} footer-social`,href:"#",children:r.jsx("svg",{width:"20",height:"20"})}),r.jsx("a",{className:`${j().social} footer-social`,href:"#",children:r.jsx("svg",{width:"20",height:"20"})})]})]})]}),(0,r.jsxs)("div",{className:`${j().footRow} footer-footRow`,children:[(0,r.jsxs)("div",{className:`${j().copy} footer-copy`,children:["\xa9 ",e," Divine Acrex Housing. All rights reserved."]}),(0,r.jsxs)("div",{className:`${j().footLinks} footer-footLinks`,children:[r.jsx("a",{href:"/terms",children:"Terms"}),r.jsx("a",{href:"/privacy",children:"Privacy"}),r.jsx("a",{href:"/sitemap",children:"Sitemap"})]})]})]})})}function MyApp({Component:e,pageProps:{session:t,...i}}){let o=(0,l.useRouter)(),[c,d]=(0,n.useState)(!1);(0,n.useEffect)(()=>{window.openDivineLogin=()=>{d(!0)}},[]);let h="/admin"===o.pathname||o.pathname.startsWith("/admin/"),f=o.pathname.startsWith("/user/dashboard")||o.pathname.startsWith("/dealer/dashboard"),p=h||f;return(0,r.jsxs)(s.SessionProvider,{session:t,refetchOnWindowFocus:!1,children:[(0,r.jsxs)(a(),{children:[r.jsx("title",{children:"DivineAcrex"}),r.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),!p&&r.jsx(Header,{}),r.jsx("main",{style:{minHeight:"70vh"},children:r.jsx(e,{...i})}),!p&&r.jsx(Footer,{}),!p&&r.jsx(g.Z,{open:c,onClose:()=>d(!1)})]})}},6971:()=>{},6764:()=>{},6792:()=>{},6497:()=>{},3559:()=>{}};