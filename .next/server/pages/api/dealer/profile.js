"use strict";(()=>{var e={};e.id=565,e.ids=[565],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},4994:(e,r,t)=>{t.r(r),t.d(r,{config:()=>m,default:()=>f,routeModule:()=>S});var a={};t.r(a),t.d(a,{default:()=>handler});var o=t(1802),s=t(7153),n=t(6249),i=t(7147),l=t.n(i),d=t(1017),u=t.n(d);let c=u().join(process.cwd(),"data"),p=u().join(c,"dealer_profile.json");async function handler(e,r){if(l().existsSync(c)||l().mkdirSync(c,{recursive:!0}),"GET"===e.method)try{if(!l().existsSync(p))return r.status(200).json({ok:!0,data:{}});let e=l().readFileSync(p,"utf8"),t=JSON.parse(e||"{}");return r.status(200).json({ok:!0,data:t})}catch(e){return console.error("Profile GET error:",e),r.status(500).json({ok:!1,error:"Read error"})}if("POST"===e.method)try{let t=e.body||{},a={name:t.name||"",email:t.email||"",mobile:t.mobile||"",address:t.address||"",balance:t.balance||""};return l().writeFileSync(p,JSON.stringify(a,null,2),"utf8"),r.status(200).json({ok:!0})}catch(e){return console.error("Profile POST error:",e),r.status(500).json({ok:!1,error:"Save error"})}r.setHeader("Allow",["GET","POST"]),r.status(405).end(`Method ${e.method} Not Allowed`)}let f=(0,n.l)(a,"default"),m=(0,n.l)(a,"config"),S=new o.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/dealer/profile",pathname:"/api/dealer/profile",bundlePath:"",filename:""},userland:a})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),t=r.X(0,[4222],()=>__webpack_exec__(4994));module.exports=t})();