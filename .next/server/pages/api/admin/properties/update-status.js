"use strict";(()=>{var e={};e.id=3561,e.ids=[3561],e.modules={1185:e=>{e.exports=require("mongoose")},1649:e=>{e.exports=require("next-auth/react")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2589:(e,s,t)=>{t.r(s),t.d(s,{config:()=>l,default:()=>p,routeModule:()=>m});var a={};t.r(a),t.d(a,{default:()=>handler});var r=t(1802),u=t(7153),i=t(6249),n=t(3808),o=t(9787),d=t(9721),c=t(1185);async function handler(e,s){if(await (0,d.Z)(e,s))try{if(await (0,n.Z)(),"POST"!==e.method)return s.status(405).json({success:!1,message:"Only POST allowed"});let{propertyId:t,status:a}=e.body;if(!t)return s.status(400).json({success:!1,message:"propertyId missing"});if(void 0===a)return s.status(400).json({success:!1,message:"status missing"});if(!c.Types.ObjectId.isValid(t))return s.status(400).json({success:!1,message:"Invalid propertyId"});let r=await o.Z.findById(t);if(!r)return s.status(404).json({success:!1,message:"Property not found"});return r.status=a,await r.save(),s.status(200).json({success:!0,message:"Property status updated",property:r})}catch(e){return console.error("PROPERTY UPDATE STATUS ERROR:",e),s.status(500).json({success:!1,message:"Server error"})}}let p=(0,i.l)(a,"default"),l=(0,i.l)(a,"config"),m=new r.PagesAPIRouteModule({definition:{kind:u.x.PAGES_API,page:"/api/admin/properties/update-status",pathname:"/api/admin/properties/update-status",bundlePath:"",filename:""},userland:a})}};var s=require("../../../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[4222,3260,9787],()=>__webpack_exec__(2589));module.exports=t})();