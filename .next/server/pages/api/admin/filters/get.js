"use strict";(()=>{var e={};e.id=9836,e.ids=[9836],e.modules={1185:e=>{e.exports=require("mongoose")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7484:(e,n,r)=>{r.r(n),r.d(n,{config:()=>c,default:()=>d,routeModule:()=>u});var o={};r.r(o),r.d(o,{default:()=>handler});var t=r(1802),a=r(7153),s=r(6249),i=r(3808),l=r(1552);async function handler(e,n){if("GET"!==e.method)return n.status(405).json({message:"Method not allowed"});try{await (0,i.Z)();let e=await l.Z.find({}).lean();return n.status(200).json(e)}catch(e){return console.error("FILTER GET ERROR:",e),n.status(500).json({message:"Server error"})}}let d=(0,s.l)(o,"default"),c=(0,s.l)(o,"config"),u=new t.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/admin/filters/get",pathname:"/api/admin/filters/get",bundlePath:"",filename:""},userland:o})},1552:(e,n,r)=>{r.d(n,{Z:()=>s});var o=r(1185),t=r.n(o);let a=new(t()).Schema({name:{type:String,required:!0},key:{type:String},values:{type:[String],default:[]},createdBy:{type:String}},{timestamps:!0}),s=t().models.Filter||t().model("Filter",a)},3808:(e,n,r)=>{r.d(n,{Z:()=>i});var o=r(1185),t=r.n(o);let a=process.env.MONGODB_URI||"mongodb://localhost:27017/divine_acres";if(!a)throw Error("⛔ MONGODB_URI is missing in environment variables");let s=global.mongoose;async function dbConnect(){return s.conn||(s.promise||(s.promise=t().connect(a,{useNewUrlParser:!0,useUnifiedTopology:!0}).then(e=>(console.log("✅ MongoDB Connected"),e)).catch(e=>{console.error("❌ MongoDB Connection Error:",e)})),s.conn=await s.promise),s.conn}s||(s=global.mongoose={conn:null,promise:null});let i=dbConnect}};var n=require("../../../../webpack-api-runtime.js");n.C(e);var __webpack_exec__=e=>n(n.s=e),r=n.X(0,[4222],()=>__webpack_exec__(7484));module.exports=r})();