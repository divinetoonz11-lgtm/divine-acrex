"use strict";(()=>{var e={};e.id=1569,e.ids=[1569],e.modules={1185:e=>{e.exports=require("mongoose")},1649:e=>{e.exports=require("next-auth/react")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6898:(e,s,a)=>{a.r(s),a.d(s,{config:()=>m,default:()=>l,routeModule:()=>p});var t={};a.r(t),a.d(t,{default:()=>handler});var r=a(1802),u=a(7153),n=a(6249),i=a(3808),d=a(6016),o=a(9721),c=a(1185);async function handler(e,s){if(await (0,o.Z)(e,s))try{if(await (0,i.Z)(),"POST"!==e.method)return s.status(405).json({success:!1,message:"Only POST allowed"});let{dealerId:a,status:t}=e.body;if(!a)return s.status(400).json({success:!1,message:"dealerId missing"});if(void 0===t)return s.status(400).json({success:!1,message:"status missing"});if(!c.Types.ObjectId.isValid(a))return s.status(400).json({success:!1,message:"Invalid dealerId"});let r=await d.Z.findById(a);if(!r)return s.status(404).json({success:!1,message:"Dealer not found"});return r.status=t,await r.save(),s.status(200).json({success:!0,message:"Dealer status updated",dealer:r})}catch(e){return console.error("DEALER UPDATE STATUS ERROR:",e),s.status(500).json({success:!1,message:"Server error"})}}let l=(0,n.l)(t,"default"),m=(0,n.l)(t,"config"),p=new r.PagesAPIRouteModule({definition:{kind:u.x.PAGES_API,page:"/api/admin/dealers/update-status",pathname:"/api/admin/dealers/update-status",bundlePath:"",filename:""},userland:t})}};var s=require("../../../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[4222,3260,6016],()=>__webpack_exec__(6898));module.exports=a})();