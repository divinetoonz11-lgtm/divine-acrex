"use strict";(()=>{var e={};e.id=5715,e.ids=[5715],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},5283:(e,s,t)=>{t.r(s),t.d(s,{config:()=>u,default:()=>l,routeModule:()=>m});var o={};t.r(o),t.d(o,{default:()=>handler});var n=t(1802),a=t(7153),r=t(6249);let i="0"!==process.env.USE_DEMO,d={};async function handler(e,s){let{method:t}=e;if("POST"===t){let{phone:t}=e.body||{};return t?i?(d[t]="123456",s.json({ok:!0,message:"OTP sent (demo): 123456"})):s.json({ok:!0,message:"Real SMS sending not set yet — connect msg91/twilio"}):s.status(400).json({ok:!1,message:"Phone is required"})}if("PUT"===t){let{phone:t,otp:o}=e.body||{};if(!t||!o)return s.status(400).json({ok:!1,message:"Phone & OTP required"});let n=d[t];return n?n!==o?s.status(400).json({ok:!1,message:"Invalid OTP"}):(delete d[t],s.json({ok:!0,message:"OTP verified — login success (demo)"})):s.status(404).json({ok:!1,message:"OTP not sent"})}s.status(405).json({ok:!1,message:"Method not allowed"})}let l=(0,r.l)(o,"default"),u=(0,r.l)(o,"config"),m=new n.PagesAPIRouteModule({definition:{kind:a.x.PAGES_API,page:"/api/otp",pathname:"/api/otp",bundlePath:"",filename:""},userland:o})}};var s=require("../../webpack-api-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[4222],()=>__webpack_exec__(5283));module.exports=t})();